@import '../0-dom/color-scheme.scss';
@import '../0-dom/fit-parent.scss';
@import '../0-dom/responsive.scss';

#app-container {
  color: var(--fg-color);
  background-color: var(--bg-color);
  width: 100vw;
  height: 100vh;

  &.is-virtual-keyboard-open .mobile-fallback {
    height: 50%;
  }

  --animation-speed: 0.25s;
  --group-border-width: 2px;
  --status-line-width: var(--group-border-width);
  --status-line-color: transparent;

  @include mobile {
    --sidebar-font-size: 1rem;
    --sidebar-gap: 0.5rem;
  }

  @include desktop {
    --sidebar-font-size: 0.8rem;
    --sidebar-gap: 0.4rem;
  }

  @include light {
    // --fg-color: #404040;
    --fg-color: red;
    --bg-color: red;
    --bg-color-sidebar: red;
  }

  @include dark {
    $fg: #c4c4c4;
    $bg: #1c1c1c;
    $border: #343637;
    $primary: #669bd1;
    $secondary: #f2f230;
    // $secondary: #d16014;
    // $secondary: #c9866e;

    --fg-color: #{$fg};
    --fg-color-active: #{adjust-color($fg, $lightness: 100%)};

    --bg-color: #{$bg};
    --bg-color-sidebar: #{adjust-color($bg, $lightness: 2%)};
    --bg-color-control: #{adjust-color($bg, $lightness: -2%)};
    --bg-color-hover: #{adjust-color($bg, $lightness: 10%)};
    --border-color: #{$border};

    --bg-color-active: #{adjust-color($primary, $lightness: -20%)};
    --border-color-active: #{adjust-color($primary, $lightness: 0%)};

    --note-item-color: #{adjust-color($bg, $lightness: 2%)};
    --favorite-color: #{$secondary};

    --group-color: var(--bg-color-sidebar);
    --group-active-color: #{adjust-color($primary, $lightness: -30%)};
    --group-border-color: #{adjust-color($secondary, $lightness: -30%)};
  }
}

.app {
  height: 100vh;
  width: 100vw;

  display: flex;
  font-family: Arial, Helvetica, sans-serif;

  --gist-item-height: 28px;

  > aside {
    width: 400px;
  }

  > main {
    @include fit-parent();
  }

  @include mobile {
    &.page-home > main,
    &.page-note > aside {
      display: none;
    }

    &.page-home > aside {
      width: 100% !important;
    }
  }

  @include desktop {
    &.page-note > aside.hidden {
      display: none;
    }
  }
}
